# Learning ChatBot with Qt, JSON Training, and Encrypted Persistence

This project is a C++/Qt-based chatbot application that:
- Provides an interactive GUI with a dark-themed, resizable window.
- Uses an encrypted knowledge base stored in `knowledge_base.dat` (via a simple XOR cipher).
- Automatically loads training data from a JSON file (`sample.json`) at startup.
- Allows you to load additional data via a web request or manually from JSON.
- Normalizes user input and training questions (ignoring case and punctuation) to improve matching.

## Features

- **Interactive Chat GUI:**  
  A Qt-based interface with a conversation display, input field, and buttons for sending messages, loading data from the web, and loading JSON training files.

- **Encrypted Persistence:**  
  The chatbot saves its knowledge (Q&A pairs) in an encrypted file (`knowledge_base.dat`) using a simple XOR cipher.

- **Automatic JSON Data Loading:**  
  If a `sample.json` file exists, the application loads its Q&A pairs at startup.

- **Normalization:**  
  Both user questions and stored data are normalized by removing punctuation and converting to lowercase to ensure case- and punctuation-insensitive matching.

- **Web Data Loading:**  
  Optionally, the chatbot can load additional Q&A data from a specified URL.

## Requirements

- **Ubuntu** (or any Linux distribution with similar package management)
- **Qt Development Packages:**  
  Install with:  
  ```bash
  sudo apt update
  sudo apt install qtbase5-dev qmake make wget
  ```
- **C++17 Compiler**

## Files

- **main.cpp:**  
  Contains the Qt GUI application code including the chatbot logic, JSON and web data loading, encryption/decryption functions, and string normalization.

- **compile_and_run.sh:**  
  A shell script to generate the Qt project file, compile the project using qmake and make, and run the application. When you exit the app, the knowledge data is saved to `knowledge_base.dat`.

- **sample.json:**  
  A JSON file containing sample Q&A training data (if provided). The application automatically loads this file at startup if it exists.

## Installation & Build Instructions

1. **Clone or Copy the Project:**  
   Place `main.cpp`, `compile_and_run.sh`, and (optionally) `sample.json` in your project directory.

2. **Make the Shell Script Executable:**  
   ```bash
   chmod +x compile_and_run.sh
   ```

3. **Run the Shell Script to Build and Run the Application:**  
   ```bash
   ./compile_and_run.sh
   ```
   The script will:
   - Create a `chatbot.pro` file if it doesn't exist.
   - Run `qmake` to generate the Makefile.
   - Compile the project using `make`.
   - Launch the `chatbot` executable.

## Usage

- **Chat Interface:**  
  Interact with the chatbot by typing your questions in the input field and clicking "Send" or pressing Enter.

- **Teach the ChatBot:**  
  If the bot doesn't know the answer to a question, it will prompt you to teach it a new response.

- **Load Data from the Web:**  
  Click the "Load Data" button to load additional encrypted Q&A entries from a specified URL.

- **Load JSON Data Manually:**  
  Click the "Load JSON" button to open a file dialog and select a JSON file containing an array of objects with `"question"` and `"answer"` fields.

- **Normalization:**  
  The chatbot ignores differences in case and punctuation for better matching of questions.

- **Persistence:**  
  All learned and loaded data is automatically saved (encrypted) in `knowledge_base.dat` when you exit the application.

## Project Structure

```
├── main.cpp              # Qt GUI application source code.
├── chatbot.pro           # Qt project file generated by the shell script.
├── compile_and_run.sh    # Shell script to build and run the application.
└── sample.json           # (Optional) JSON file with sample training data.
```

## Explanation of Key Code Sections

- **String Normalization:**  
  The `normalizeString` function removes punctuation and converts input strings to lowercase to ensure that matching is not affected by case or punctuation differences.

- **Encryption & Persistence:**  
  The XOR-based functions `xorEncryptDecrypt`, `loadKnowledgeBase`, and `saveKnowledgeBase` manage reading from and writing to the encrypted knowledge base file.

- **Automatic JSON Loading:**  
  During startup, the constructor of `ChatWindow` checks for the existence of `sample.json` and loads its data into the knowledge base.

- **GUI & Data Loading:**  
  The application uses Qt’s networking (QNetworkAccessManager) for web data loading and Qt JSON classes for parsing JSON training files.
